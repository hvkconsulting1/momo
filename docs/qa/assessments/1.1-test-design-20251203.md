# Test Design: Story 1.1 - Initialize Project Structure and Development Environment

**Date:** 2025-12-03
**Designer:** Quinn (Test Architect)
**Story:** 1.1 - Initialize Project Structure and Development Environment
**Status:** Draft

---

## Test Strategy Overview

- **Total test scenarios:** 17
- **Unit tests:** 9 (53%)
- **Integration tests:** 8 (47%)
- **E2E tests:** 0 (0%)
- **Priority distribution:** P0: 7, P1: 8, P2: 2, P3: 0

**Rationale:**
Story 1.1 is an infrastructure setup story focused on environment configuration and directory structure. Tests are primarily unit (verifying file/directory existence) and integration (verifying dependency resolution, imports, environment setup). No E2E tests are needed as there are no user-facing workflows yet.

**Risk Alignment:**
This test design directly addresses the risk profile from `docs/qa/assessments/1.1-risk-20251203.md`, particularly:
- **OPS-001** (High): Git data directory exclusion
- **TECH-001** (Medium): Python 3.13 compatibility
- **TECH-002** (High): Windows-WSL bridge complexity (architectural documentation)
- **DATA-001** (Medium): WSL-Windows path accessibility
- **OPS-002** (Low): Story-based test organization

---

## Test Scenarios by Acceptance Criteria

### AC1: Repository Structure

**Acceptance Criterion:**
> Repository follows the specified structure with directories: `data/`, `src/` (with subdirs: `data/`, `signals/`, `portfolio/`, `backtest/`, `risk/`, `utils/`), `notebooks/`, `docs/`, `tests/`, and `results/`

#### Test Scenarios

| Test ID       | Level       | Priority | Test Scenario                                  | Justification                                              | Risk Coverage |
|---------------|-------------|----------|------------------------------------------------|------------------------------------------------------------|---------------|
| 1.1-UNIT-001  | Unit        | P0       | Verify all top-level directories exist         | Critical infrastructure verification; simple file check    | OPS-002       |
| 1.1-UNIT-002  | Unit        | P0       | Verify `data/` subdirectories exist            | Critical for data caching workflow; prevents runtime errors| DATA-001      |
| 1.1-UNIT-003  | Unit        | P0       | Verify `src/momo/` package structure exists    | Core package structure must be correct for imports         | -             |
| 1.1-UNIT-004  | Unit        | P1       | Verify all `__init__.py` files exist           | Ensures package discoverability by Python                  | -             |
| 1.1-UNIT-005  | Unit        | P1       | Verify `py.typed` marker file exists           | Enables PEP 561 type hint support for external tools       | -             |

**AC1 Coverage Summary:** 5 tests, all unit level

---

### AC2: Python Environment Configuration

**Acceptance Criterion:**
> Python 3.10+ environment is configured with uv (Astral) for dependency management

**Note:** Story requirements specify Python 3.13 (per tech-stack.md), not 3.10+. Tests will verify 3.13.

#### Test Scenarios

| Test ID       | Level       | Priority | Test Scenario                                  | Justification                                              | Risk Coverage |
|---------------|-------------|----------|------------------------------------------------|------------------------------------------------------------|---------------|
| 1.1-UNIT-006  | Unit        | P0       | Verify `.python-version` file contains `3.13`  | Ensures tools (uv, pyenv) detect correct Python version    | TECH-001      |
| 1.1-INT-001   | Integration | P0       | Verify `uv sync` resolves dependencies         | Critical validation of dependency manager and Python compat | TECH-001      |
| 1.1-INT-002   | Integration | P0       | Verify Python 3.13 is available and executable | Ensures correct Python version installed in environment     | TECH-001      |

**AC2 Coverage Summary:** 3 tests (1 unit, 2 integration)

---

### AC3: Git Configuration

**Acceptance Criterion:**
> `.gitignore` is configured to exclude `data/` directory and common Python artifacts (__pycache__, .pyc, .env, etc.)

#### Test Scenarios

| Test ID       | Level       | Priority | Test Scenario                                  | Justification                                              | Risk Coverage |
|---------------|-------------|----------|------------------------------------------------|------------------------------------------------------------|---------------|
| 1.1-UNIT-007  | Unit        | P0       | Verify `.gitignore` excludes `data/` directory | HIGH RISK: Prevents accidental commit of large data files  | OPS-001       |
| 1.1-UNIT-008  | Unit        | P0       | Verify `.gitignore` excludes Python artifacts  | Critical for repo cleanliness and CI performance           | -             |
| 1.1-UNIT-009  | Unit        | P0       | Verify `.gitignore` excludes `.env` files      | Security: prevents credential exposure                     | SEC-001       |
| 1.1-INT-003   | Integration | P1       | Verify `data/` files are not tracked by git    | Functional test of gitignore configuration                 | OPS-001       |

**AC3 Coverage Summary:** 4 tests (3 unit, 1 integration)

**High Risk Mitigation:** Tests 1.1-UNIT-007 and 1.1-INT-003 directly address **OPS-001** (High Risk: Git data directory exclusion). This is the highest-priority testing requirement for this story.

---

### AC4: Dependency Management

**Acceptance Criterion:**
> Initial `pyproject.toml` or `requirements.txt` includes core dependencies: pandas, numpy, scipy, matplotlib, seaborn, jupyter, pytest

**Note:** Story uses `pyproject.toml` (not `requirements.txt`) and includes additional dependencies per tech-stack.md.

#### Test Scenarios

| Test ID       | Level       | Priority | Test Scenario                                  | Justification                                              | Risk Coverage |
|---------------|-------------|----------|------------------------------------------------|------------------------------------------------------------|---------------|
| 1.1-INT-004   | Integration | P1       | Verify `pyproject.toml` specifies all required dependencies | Ensures dependency manifest is complete          | TECH-001      |
| 1.1-INT-005   | Integration | P1       | Verify core dependencies are importable        | Validates actual installation, not just manifest           | TECH-001      |

**AC4 Coverage Summary:** 2 tests, both integration level

**Justification for Integration Level:**
- 1.1-INT-004: Reading and parsing TOML requires file I/O (not pure logic)
- 1.1-INT-005: Import verification requires actual Python environment and installed packages

---

### AC5: README Documentation

**Acceptance Criterion:**
> `README.md` provides basic project overview and setup instructions

#### Test Scenarios

| Test ID       | Level       | Priority | Test Scenario                                  | Justification                                              | Risk Coverage |
|---------------|-------------|----------|------------------------------------------------|------------------------------------------------------------|---------------|
| 1.1-UNIT-010  | Unit        | P2       | Verify `README.md` exists in project root      | Documentation presence check; low complexity               | -             |
| 1.1-INT-006   | Integration | P2       | Verify README contains required sections       | Content validation requires markdown parsing               | -             |

**AC5 Coverage Summary:** 2 tests (1 unit, 1 integration)

**Priority Rationale:** P2 (Medium) because README is important for developer onboarding but not critical for system functionality. Can be validated in code review.

---

### AC6: Research Log Template

**Acceptance Criterion:**
> `docs/research-log.md` template is created with structure for documenting experiments (date, hypothesis, parameters, results, insights)

#### Test Scenarios

| Test ID       | Level       | Priority | Test Scenario                                  | Justification                                              | Risk Coverage |
|---------------|-------------|----------|------------------------------------------------|------------------------------------------------------------|---------------|
| 1.1-UNIT-011  | Unit        | P1       | Verify `docs/research-log.md` exists           | Research documentation is core to workflow                 | -             |

**AC6 Coverage Summary:** 1 test, unit level

**Priority Rationale:** P1 (High) because research log is a core workflow artifact for this data science project, but only needs existence verification (content structure can be validated in code review).

---

### AC7: Package Importability

**Acceptance Criterion:**
> Basic package structure allows `import src` from project root

**Note:** Story uses `import momo` (not `import src`) per architecture docs.

#### Test Scenarios

| Test ID       | Level       | Priority | Test Scenario                                  | Justification                                              | Risk Coverage |
|---------------|-------------|----------|------------------------------------------------|------------------------------------------------------------|---------------|
| 1.1-INT-007   | Integration | P0       | Verify `import momo` succeeds from project root| Critical validation of package structure                   | -             |
| 1.1-INT-008   | Integration | P1       | Verify subpackages are importable              | Validates complete package hierarchy                       | -             |

**AC7 Coverage Summary:** 2 tests, both integration level

**Justification for Integration Level:**
Testing import behavior requires actual Python interpreter and filesystem, making these integration tests rather than unit tests.

---

### AC8: Automated Verification

**Acceptance Criterion:**
> All directory structures can be verified via automated test or script

#### Test Scenarios

**Note:** This AC is meta-requirement satisfied by all other tests in this design. No separate test needed.

**Coverage:** All tests (1.1-UNIT-001 through 1.1-INT-008) collectively satisfy this AC by providing automated verification of directory structures, dependencies, and configuration.

---

## Test Scenarios by Test Level

### Unit Tests (9 total)

| Test ID       | Priority | Test Scenario                                  | File Path                                      |
|---------------|----------|------------------------------------------------|------------------------------------------------|
| 1.1-UNIT-001  | P0       | Verify all top-level directories exist         | `tests/stories/1.1/unit/1.1-UNIT-001.py`       |
| 1.1-UNIT-002  | P0       | Verify `data/` subdirectories exist            | `tests/stories/1.1/unit/1.1-UNIT-002.py`       |
| 1.1-UNIT-003  | P0       | Verify `src/momo/` package structure exists    | `tests/stories/1.1/unit/1.1-UNIT-003.py`       |
| 1.1-UNIT-004  | P1       | Verify all `__init__.py` files exist           | `tests/stories/1.1/unit/1.1-UNIT-004.py`       |
| 1.1-UNIT-005  | P1       | Verify `py.typed` marker file exists           | `tests/stories/1.1/unit/1.1-UNIT-005.py`       |
| 1.1-UNIT-006  | P0       | Verify `.python-version` file contains `3.13`  | `tests/stories/1.1/unit/1.1-UNIT-006.py`       |
| 1.1-UNIT-007  | P0       | Verify `.gitignore` excludes `data/` directory | `tests/stories/1.1/unit/1.1-UNIT-007.py`       |
| 1.1-UNIT-008  | P0       | Verify `.gitignore` excludes Python artifacts  | `tests/stories/1.1/unit/1.1-UNIT-008.py`       |
| 1.1-UNIT-009  | P0       | Verify `.gitignore` excludes `.env` files      | `tests/stories/1.1/unit/1.1-UNIT-009.py`       |
| 1.1-UNIT-010  | P2       | Verify `README.md` exists in project root      | `tests/stories/1.1/unit/1.1-UNIT-010.py`       |
| 1.1-UNIT-011  | P1       | Verify `docs/research-log.md` exists           | `tests/stories/1.1/unit/1.1-UNIT-011.py`       |

**Note:** 1.1-UNIT-010 appears as 10th in sequence but should be created. Adjust sequence if needed.

### Integration Tests (8 total)

| Test ID       | Priority | Test Scenario                                  | File Path                                           |
|---------------|----------|------------------------------------------------|-----------------------------------------------------|
| 1.1-INT-001   | P0       | Verify `uv sync` resolves dependencies         | `tests/stories/1.1/integration/1.1-INT-001.py`      |
| 1.1-INT-002   | P0       | Verify Python 3.13 is available and executable | `tests/stories/1.1/integration/1.1-INT-002.py`      |
| 1.1-INT-003   | P1       | Verify `data/` files are not tracked by git    | `tests/stories/1.1/integration/1.1-INT-003.py`      |
| 1.1-INT-004   | P1       | Verify `pyproject.toml` specifies all required dependencies | `tests/stories/1.1/integration/1.1-INT-004.py` |
| 1.1-INT-005   | P1       | Verify core dependencies are importable        | `tests/stories/1.1/integration/1.1-INT-005.py`      |
| 1.1-INT-006   | P2       | Verify README contains required sections       | `tests/stories/1.1/integration/1.1-INT-006.py`      |
| 1.1-INT-007   | P0       | Verify `import momo` succeeds from project root| `tests/stories/1.1/integration/1.1-INT-007.py`      |
| 1.1-INT-008   | P1       | Verify subpackages are importable              | `tests/stories/1.1/integration/1.1-INT-008.py`      |

---

## Risk Coverage Matrix

This section maps test scenarios to identified risks from `docs/qa/assessments/1.1-risk-20251203.md`.

| Risk ID   | Risk Title                           | Score | Tests Covering Risk                     | Coverage Assessment        |
|-----------|--------------------------------------|-------|-----------------------------------------|----------------------------|
| OPS-001   | Git Data Directory Exclusion         | 6 (H) | 1.1-UNIT-007, 1.1-INT-003               | **COMPLETE** - Unit + Integration |
| TECH-001  | Python 3.13 Compatibility            | 4 (M) | 1.1-UNIT-006, 1.1-INT-001, 1.1-INT-002, 1.1-INT-004, 1.1-INT-005 | **COMPLETE** - Comprehensive coverage |
| TECH-002  | Windows-WSL Bridge Complexity        | 6 (H) | *(deferred to later story)*             | **ARCHITECTURAL** - Documentation required, implementation later |
| DATA-001  | WSL-Windows Path Accessibility       | 4 (M) | 1.1-UNIT-002                            | **PARTIAL** - Structure verified; bidirectional access tested when bridge implemented |
| OPS-002   | Story-Based Test Organization        | 3 (L) | 1.1-UNIT-001, 1.1-UNIT-003, *(all tests)* | **COMPLETE** - All tests follow story-based structure |
| TECH-003  | uv Dependency Manager Maturity       | 2 (L) | 1.1-INT-001                             | **COMPLETE** - uv sync verification |
| SEC-001   | Environment Variable Security        | 2 (L) | 1.1-UNIT-009                            | **COMPLETE** - .env exclusion verified |

**Risk Coverage Summary:**
- **High Risks (6):** 2 identified, 1 fully covered by tests, 1 deferred to implementation story
- **Medium Risks (4):** 2 identified, both covered
- **Low Risks (2-3):** 3 identified, all covered

**Residual Risks:**
- **TECH-002** (Windows-WSL Bridge): Architectural documentation required in Story 1.1, but functional tests deferred until bridge implementation (likely Story 1.2+)
- **DATA-001** (WSL-Windows Path): Structure verification complete in Story 1.1; full bidirectional access testing will occur when bridge is implemented

---

## Detailed Test Specifications

### 1.1-UNIT-001: Verify Top-Level Directories

**File:** `tests/stories/1.1/unit/1.1-UNIT-001.py`

```python
"""
Test ID: 1.1-UNIT-001
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P0
Test Level: Unit
Risk Coverage: OPS-002 (Story-Based Test Organization)

Description:
Verify all top-level directories exist according to source-tree.md specification.

Acceptance Criteria: AC1
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:45
"""

import pytest
from pathlib import Path

def test_1_1_unit_001(project_root):
    """
    1.1-UNIT-001: Verify all top-level directories exist

    Justification: Critical infrastructure verification; ensures project structure
    matches architecture specification.

    Expected: All directories exist
    Failure mode: Missing directory raises AssertionError with clear message
    """
    required_dirs = [
        "data",
        "src/momo",
        "notebooks",
        "docs",
        "tests",
        "scripts",
        ".github/workflows",
    ]

    for dir_path in required_dirs:
        full_path = project_root / dir_path
        assert full_path.exists(), f"Required directory missing: {dir_path}"
        assert full_path.is_dir(), f"Path exists but is not a directory: {dir_path}"
```

**Fixtures Required:** `project_root` (from `tests/conftest.py`)

---

### 1.1-UNIT-002: Verify Data Subdirectories

**File:** `tests/stories/1.1/unit/1.1-UNIT-002.py`

```python
"""
Test ID: 1.1-UNIT-002
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P0
Test Level: Unit
Risk Coverage: DATA-001 (WSL-Windows Path Accessibility)

Description:
Verify data/ subdirectories exist for caching prices, constituents, universes, and experiments.

Acceptance Criteria: AC1
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:46
"""

import pytest
from pathlib import Path

def test_1_1_unit_002(data_dir):
    """
    1.1-UNIT-002: Verify data/ subdirectories exist

    Justification: Critical for data caching workflow; prevents runtime errors
    when code attempts to write cached data.

    Expected: All data subdirectories exist
    Failure mode: Missing subdirectory raises AssertionError
    """
    required_subdirs = [
        "cache/prices",
        "cache/constituents",
        "cache/universes",
        "results/experiments",
    ]

    for subdir_path in required_subdirs:
        full_path = data_dir / subdir_path
        assert full_path.exists(), f"Required data subdirectory missing: {subdir_path}"
        assert full_path.is_dir(), f"Path exists but is not a directory: {subdir_path}"
```

**Fixtures Required:** `data_dir` (from `tests/conftest.py`)

---

### 1.1-UNIT-003: Verify Source Package Structure

**File:** `tests/stories/1.1/unit/1.1-UNIT-003.py`

```python
"""
Test ID: 1.1-UNIT-003
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P0
Test Level: Unit
Risk Coverage: OPS-002 (Story-Based Test Organization)

Description:
Verify src/momo/ package structure exists with all required subdirectories.

Acceptance Criteria: AC1
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:47
"""

import pytest
from pathlib import Path

def test_1_1_unit_003(src_dir):
    """
    1.1-UNIT-003: Verify src/momo/ package structure exists

    Justification: Core package structure must be correct for Python imports
    and package discovery.

    Expected: All momo subdirectories exist
    Failure mode: Missing subdirectory prevents package imports
    """
    momo_dir = src_dir / "momo"

    # Verify momo package directory
    assert momo_dir.exists(), "src/momo/ directory missing"
    assert momo_dir.is_dir(), "src/momo/ is not a directory"

    # Verify subdirectories
    required_subdirs = [
        "data",
        "signals",
        "portfolio",
        "backtest",
        "utils",
    ]

    for subdir in required_subdirs:
        full_path = momo_dir / subdir
        assert full_path.exists(), f"Required momo subdirectory missing: {subdir}"
        assert full_path.is_dir(), f"Path exists but is not a directory: {subdir}"
```

**Fixtures Required:** `src_dir` (from `tests/conftest.py`)

---

### 1.1-UNIT-004: Verify __init__.py Files

**File:** `tests/stories/1.1/unit/1.1-UNIT-004.py`

```python
"""
Test ID: 1.1-UNIT-004
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P1
Test Level: Unit
Risk Coverage: None

Description:
Verify all package directories contain __init__.py files for Python discoverability.

Acceptance Criteria: AC1
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:48
"""

import pytest
from pathlib import Path

def test_1_1_unit_004(src_dir):
    """
    1.1-UNIT-004: Verify all __init__.py files exist

    Justification: Ensures package discoverability by Python interpreter.

    Expected: __init__.py exists in momo/ and all subdirectories
    Failure mode: Missing __init__.py prevents package imports
    """
    momo_dir = src_dir / "momo"

    # Package directories requiring __init__.py
    package_dirs = [
        momo_dir,
        momo_dir / "data",
        momo_dir / "signals",
        momo_dir / "portfolio",
        momo_dir / "backtest",
        momo_dir / "utils",
    ]

    for pkg_dir in package_dirs:
        init_file = pkg_dir / "__init__.py"
        assert init_file.exists(), f"Missing __init__.py in {pkg_dir.relative_to(src_dir)}"
        assert init_file.is_file(), f"__init__.py is not a file in {pkg_dir.relative_to(src_dir)}"
```

**Fixtures Required:** `src_dir` (from `tests/conftest.py`)

---

### 1.1-UNIT-005: Verify py.typed Marker

**File:** `tests/stories/1.1/unit/1.1-UNIT-005.py`

```python
"""
Test ID: 1.1-UNIT-005
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P1
Test Level: Unit
Risk Coverage: None

Description:
Verify py.typed marker file exists to enable PEP 561 type hint support.

Acceptance Criteria: AC1
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:49
"""

import pytest
from pathlib import Path

def test_1_1_unit_005(src_dir):
    """
    1.1-UNIT-005: Verify py.typed marker file exists

    Justification: Enables PEP 561 type hint support for external type checkers
    like mypy, allowing them to use this package's type annotations.

    Expected: src/momo/py.typed exists
    Failure mode: External type checkers may not recognize package type hints
    """
    momo_dir = src_dir / "momo"
    py_typed = momo_dir / "py.typed"

    assert py_typed.exists(), "py.typed marker file missing in src/momo/"
    assert py_typed.is_file(), "py.typed exists but is not a file"
```

**Fixtures Required:** `src_dir` (from `tests/conftest.py`)

---

### 1.1-UNIT-006: Verify Python Version File

**File:** `tests/stories/1.1/unit/1.1-UNIT-006.py`

```python
"""
Test ID: 1.1-UNIT-006
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P0
Test Level: Unit
Risk Coverage: TECH-001 (Python 3.13 Compatibility)

Description:
Verify .python-version file exists and specifies Python 3.13.

Acceptance Criteria: AC2
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:64
"""

import pytest
from pathlib import Path

def test_1_1_unit_006(project_root):
    """
    1.1-UNIT-006: Verify .python-version file contains '3.13'

    Justification: Ensures tools (uv, pyenv) detect correct Python version.

    Expected: .python-version exists and contains exactly '3.13'
    Failure mode: Tools may use wrong Python version, causing compatibility issues
    """
    python_version_file = project_root / ".python-version"

    assert python_version_file.exists(), ".python-version file missing"
    assert python_version_file.is_file(), ".python-version is not a file"

    content = python_version_file.read_text().strip()
    assert content == "3.13", f"Expected Python version '3.13', found '{content}'"
```

**Fixtures Required:** `project_root` (from `tests/conftest.py`)

---

### 1.1-UNIT-007: Verify .gitignore Excludes data/

**File:** `tests/stories/1.1/unit/1.1-UNIT-007.py`

```python
"""
Test ID: 1.1-UNIT-007
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P0
Test Level: Unit
Risk Coverage: OPS-001 (Git Data Directory Exclusion) - HIGH RISK

Description:
Verify .gitignore excludes data/ directory to prevent accidental commit of large data files.

Acceptance Criteria: AC3
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:80
"""

import pytest
from pathlib import Path

def test_1_1_unit_007(project_root):
    """
    1.1-UNIT-007: Verify .gitignore excludes data/ directory

    Justification: HIGH RISK - Prevents accidental commit of gigabytes of cached
    market data which would bloat repository and slow git operations.

    Expected: .gitignore contains pattern matching data/ or /data/
    Failure mode: data/ files could be committed, breaking repository
    """
    gitignore_file = project_root / ".gitignore"

    assert gitignore_file.exists(), ".gitignore file missing"
    assert gitignore_file.is_file(), ".gitignore is not a file"

    content = gitignore_file.read_text()
    lines = [line.strip() for line in content.split('\n')]

    # Check for data/ pattern (with or without leading slash)
    data_patterns = ['/data/', 'data/', '/data', 'data']
    has_data_exclusion = any(pattern in lines for pattern in data_patterns)

    assert has_data_exclusion, ".gitignore does not exclude data/ directory"
```

**Fixtures Required:** `project_root` (from `tests/conftest.py`)

**Risk Note:** This is a **CRITICAL** test addressing OPS-001 (High Risk). Must pass before any git commits.

---

### 1.1-UNIT-008: Verify .gitignore Excludes Python Artifacts

**File:** `tests/stories/1.1/unit/1.1-UNIT-008.py`

```python
"""
Test ID: 1.1-UNIT-008
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P0
Test Level: Unit
Risk Coverage: None

Description:
Verify .gitignore excludes common Python artifacts (__pycache__, *.pyc, cache directories).

Acceptance Criteria: AC3
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:81
"""

import pytest
from pathlib import Path
import re

def test_1_1_unit_008(project_root):
    """
    1.1-UNIT-008: Verify .gitignore excludes Python artifacts

    Justification: Critical for repo cleanliness and CI performance. Prevents
    committing build artifacts that bloat repository.

    Expected: .gitignore contains patterns for __pycache__, *.pyc, cache dirs
    Failure mode: Repository polluted with build artifacts
    """
    gitignore_file = project_root / ".gitignore"
    content = gitignore_file.read_text()

    required_patterns = [
        r'__pycache__',          # Python cache directories
        r'\.pyc',                # Compiled Python files
        r'\.pytest_cache',       # pytest cache
        r'\.mypy_cache',         # mypy cache
        r'\.ruff_cache',         # ruff cache
    ]

    for pattern in required_patterns:
        assert re.search(pattern, content), f".gitignore missing pattern: {pattern}"
```

**Fixtures Required:** `project_root` (from `tests/conftest.py`)

---

### 1.1-UNIT-009: Verify .gitignore Excludes .env Files

**File:** `tests/stories/1.1/unit/1.1-UNIT-009.py`

```python
"""
Test ID: 1.1-UNIT-009
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P0
Test Level: Unit
Risk Coverage: SEC-001 (Environment Variable Security)

Description:
Verify .gitignore excludes .env files to prevent credential exposure.

Acceptance Criteria: AC3
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:82
"""

import pytest
from pathlib import Path
import re

def test_1_1_unit_009(project_root):
    """
    1.1-UNIT-009: Verify .gitignore excludes .env files

    Justification: Security - prevents accidental commit of API keys, database
    credentials, and other secrets.

    Expected: .gitignore contains pattern matching .env files
    Failure mode: Credentials exposed in git history
    """
    gitignore_file = project_root / ".gitignore"
    content = gitignore_file.read_text()

    # Check for .env patterns
    env_patterns = [
        r'\.env',           # .env file
        r'\.env\.local',    # .env.local
        r'\*\.env',         # *.env pattern
    ]

    has_env_exclusion = any(re.search(pattern, content) for pattern in env_patterns)

    assert has_env_exclusion, ".gitignore does not exclude .env files"
```

**Fixtures Required:** `project_root` (from `tests/conftest.py`)

---

### 1.1-UNIT-010: Verify README Exists

**File:** `tests/stories/1.1/unit/1.1-UNIT-010.py`

```python
"""
Test ID: 1.1-UNIT-010
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P2
Test Level: Unit
Risk Coverage: None

Description:
Verify README.md exists in project root.

Acceptance Criteria: AC5
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:143
"""

import pytest
from pathlib import Path

def test_1_1_unit_010(project_root):
    """
    1.1-UNIT-010: Verify README.md exists in project root

    Justification: Documentation presence check for developer onboarding.

    Expected: README.md exists in project root
    Failure mode: Missing documentation hinders team onboarding
    """
    readme_file = project_root / "README.md"

    assert readme_file.exists(), "README.md missing in project root"
    assert readme_file.is_file(), "README.md is not a file"

    # Basic content check - must not be empty
    content = readme_file.read_text().strip()
    assert len(content) > 0, "README.md is empty"
```

**Fixtures Required:** `project_root` (from `tests/conftest.py`)

---

### 1.1-UNIT-011: Verify Research Log Exists

**File:** `tests/stories/1.1/unit/1.1-UNIT-011.py`

```python
"""
Test ID: 1.1-UNIT-011
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P1
Test Level: Unit
Risk Coverage: None

Description:
Verify docs/research-log.md template exists.

Acceptance Criteria: AC6
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:158
"""

import pytest
from pathlib import Path

def test_1_1_unit_011(project_root):
    """
    1.1-UNIT-011: Verify docs/research-log.md exists

    Justification: Research documentation is core workflow artifact for data
    science project; essential for experiment tracking.

    Expected: docs/research-log.md exists
    Failure mode: No structured place to document experiments
    """
    research_log = project_root / "docs" / "research-log.md"

    assert research_log.exists(), "docs/research-log.md missing"
    assert research_log.is_file(), "docs/research-log.md is not a file"
```

**Fixtures Required:** `project_root` (from `tests/conftest.py`)

---

### 1.1-INT-001: Verify uv sync Succeeds

**File:** `tests/stories/1.1/integration/1.1-INT-001.py`

```python
"""
Test ID: 1.1-INT-001
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P0
Test Level: Integration
Risk Coverage: TECH-001 (Python 3.13 Compatibility), TECH-003 (uv Maturity)

Description:
Verify uv sync resolves all dependencies successfully.

Acceptance Criteria: AC2, AC4
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:65
"""

import pytest
import subprocess
from pathlib import Path

def test_1_1_int_001(project_root):
    """
    1.1-INT-001: Verify uv sync resolves dependencies

    Justification: Critical validation of dependency manager and Python 3.13
    compatibility. Detects missing wheels or version conflicts early.

    Expected: uv sync exits with code 0, creates uv.lock
    Failure mode: Missing Python 3.13 wheels, version conflicts
    """
    result = subprocess.run(
        ["uv", "sync"],
        cwd=project_root,
        capture_output=True,
        text=True,
    )

    assert result.returncode == 0, (
        f"uv sync failed with exit code {result.returncode}\n"
        f"stdout: {result.stdout}\n"
        f"stderr: {result.stderr}"
    )

    # Verify uv.lock was created
    lockfile = project_root / "uv.lock"
    assert lockfile.exists(), "uv.lock not created after successful sync"
```

**Fixtures Required:** `project_root` (from `tests/conftest.py`)

**Risk Note:** Directly addresses TECH-001 (Medium Risk: Python 3.13 compatibility).

---

### 1.1-INT-002: Verify Python 3.13 Available

**File:** `tests/stories/1.1/integration/1.1-INT-002.py`

```python
"""
Test ID: 1.1-INT-002
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P0
Test Level: Integration
Risk Coverage: TECH-001 (Python 3.13 Compatibility)

Description:
Verify Python 3.13 is installed and executable.

Acceptance Criteria: AC2
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:66
"""

import pytest
import subprocess
import sys

def test_1_1_int_002():
    """
    1.1-INT-002: Verify Python 3.13 is available and executable

    Justification: Ensures correct Python version installed in environment.

    Expected: Python version is 3.13.x
    Failure mode: Wrong Python version installed
    """
    # Check current interpreter version
    assert sys.version_info.major == 3, f"Expected Python 3.x, got {sys.version_info.major}"
    assert sys.version_info.minor == 13, f"Expected Python 3.13, got 3.{sys.version_info.minor}"

    # Also verify via python --version command
    result = subprocess.run(
        ["python", "--version"],
        capture_output=True,
        text=True,
    )

    assert result.returncode == 0, "Python version check failed"
    assert "Python 3.13" in result.stdout, f"Expected Python 3.13, got: {result.stdout}"
```

**Fixtures Required:** None

---

### 1.1-INT-003: Verify data/ Not Tracked by Git

**File:** `tests/stories/1.1/integration/1.1-INT-003.py`

```python
"""
Test ID: 1.1-INT-003
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P1
Test Level: Integration
Risk Coverage: OPS-001 (Git Data Directory Exclusion) - HIGH RISK

Description:
Functional test that data/ files are not tracked by git after creating test file.

Acceptance Criteria: AC3
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:83
"""

import pytest
import subprocess
from pathlib import Path

def test_1_1_int_003(project_root, data_dir):
    """
    1.1-INT-003: Verify data/ files are not tracked by git

    Justification: Functional test of gitignore configuration. Ensures data/
    exclusion actually works, not just that .gitignore has the right text.

    Expected: Test file in data/ is not shown by git status
    Failure mode: .gitignore pattern not working as expected
    """
    # Create test file in data/
    test_file = data_dir / "test-file.txt"
    test_file.write_text("This file should not be tracked by git")

    try:
        # Run git status --porcelain to check untracked files
        result = subprocess.run(
            ["git", "status", "--porcelain"],
            cwd=project_root,
            capture_output=True,
            text=True,
        )

        assert result.returncode == 0, "git status failed"

        # Check that test file is NOT in output
        assert "data/test-file.txt" not in result.stdout, (
            "data/test-file.txt appears in git status - .gitignore not working"
        )

    finally:
        # Clean up test file
        if test_file.exists():
            test_file.unlink()
```

**Fixtures Required:** `project_root`, `data_dir` (from `tests/conftest.py`)

**Risk Note:** This is a **CRITICAL** test addressing OPS-001 (High Risk). Functional verification of gitignore.

---

### 1.1-INT-004: Verify pyproject.toml Dependencies

**File:** `tests/stories/1.1/integration/1.1-INT-004.py`

```python
"""
Test ID: 1.1-INT-004
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P1
Test Level: Integration
Risk Coverage: TECH-001 (Python 3.13 Compatibility)

Description:
Verify pyproject.toml specifies all required dependencies per tech-stack.md.

Acceptance Criteria: AC4
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:116
"""

import pytest
from pathlib import Path
import tomli

def test_1_1_int_004(project_root):
    """
    1.1-INT-004: Verify pyproject.toml specifies all required dependencies

    Justification: Ensures dependency manifest is complete per architecture spec.

    Expected: All required dependencies listed in pyproject.toml
    Failure mode: Missing dependencies cause runtime import errors
    """
    pyproject_file = project_root / "pyproject.toml"

    assert pyproject_file.exists(), "pyproject.toml missing"

    with open(pyproject_file, "rb") as f:
        pyproject = tomli.load(f)

    # Extract dependencies
    dependencies = pyproject.get("project", {}).get("dependencies", [])
    dep_names = [dep.split("[")[0].split(">=")[0].split("~=")[0].split("==")[0]
                 for dep in dependencies]

    # Required core dependencies from tech-stack.md
    required_deps = [
        "pandas",
        "numpy",
        "pyarrow",
        "scipy",
        "matplotlib",
        "seaborn",
        "jupyter",
        "jupyterlab",
        "norgatedata",
        "structlog",
        "statsmodels",
        "tenacity",
    ]

    # Check dev dependencies
    dev_deps = pyproject.get("project", {}).get("optional-dependencies", {}).get("dev", [])
    dev_dep_names = [dep.split("[")[0].split(">=")[0].split("~=")[0].split("==")[0]
                     for dep in dev_deps]

    required_dev_deps = [
        "pytest",
        "pytest-cov",
        "pytest-xdist",
        "ruff",
        "mypy",
    ]

    # Verify core dependencies
    for dep in required_deps:
        assert dep in dep_names, f"Required dependency missing: {dep}"

    # Verify dev dependencies
    for dep in required_dev_deps:
        assert dep in dev_dep_names, f"Required dev dependency missing: {dep}"
```

**Fixtures Required:** `project_root` (from `tests/conftest.py`)

**Note:** Requires `tomli` package for TOML parsing. Should be added to dev dependencies.

---

### 1.1-INT-005: Verify Core Dependencies Importable

**File:** `tests/stories/1.1/integration/1.1-INT-005.py`

```python
"""
Test ID: 1.1-INT-005
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P1
Test Level: Integration
Risk Coverage: TECH-001 (Python 3.13 Compatibility)

Description:
Verify core dependencies can be imported successfully.

Acceptance Criteria: AC4
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:117
"""

import pytest

def test_1_1_int_005():
    """
    1.1-INT-005: Verify core dependencies are importable

    Justification: Validates actual installation, not just manifest. Ensures
    Python 3.13 wheels are available and functional.

    Expected: All core dependencies import successfully
    Failure mode: Missing wheels, compilation errors, version conflicts
    """
    # Core data dependencies
    import pandas
    import numpy
    import pyarrow
    import scipy

    # Visualization
    import matplotlib
    import seaborn

    # Notebooks
    import jupyter
    import jupyterlab

    # Testing
    import pytest as pytest_module

    # Project-specific
    import norgatedata
    import structlog
    import statsmodels
    import tenacity

    # Verify versions are reasonable (basic sanity check)
    assert pandas.__version__.startswith("2.2"), f"Unexpected pandas version: {pandas.__version__}"
    assert numpy.__version__.startswith("2.1"), f"Unexpected numpy version: {numpy.__version__}"
```

**Fixtures Required:** None

**Risk Note:** Critical for validating TECH-001 (Python 3.13 compatibility).

---

### 1.1-INT-006: Verify README Content

**File:** `tests/stories/1.1/integration/1.1-INT-006.py`

```python
"""
Test ID: 1.1-INT-006
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P2
Test Level: Integration
Risk Coverage: None

Description:
Verify README.md contains required sections for developer onboarding.

Acceptance Criteria: AC5
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:144
"""

import pytest
from pathlib import Path

def test_1_1_int_006(project_root):
    """
    1.1-INT-006: Verify README contains required sections

    Justification: Content validation requires markdown parsing/analysis.

    Expected: README contains sections: title, description, setup, usage
    Failure mode: Incomplete documentation hinders onboarding
    """
    readme_file = project_root / "README.md"
    content = readme_file.read_text().lower()

    # Check for required sections (case-insensitive)
    required_sections = [
        "momo",           # Project title/name
        "setup",          # Setup instructions
        "install",        # Installation steps
    ]

    for section in required_sections:
        assert section in content, f"README missing section or keyword: {section}"
```

**Fixtures Required:** `project_root` (from `tests/conftest.py`)

---

### 1.1-INT-007: Verify Package Import

**File:** `tests/stories/1.1/integration/1.1-INT-007.py`

```python
"""
Test ID: 1.1-INT-007
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P0
Test Level: Integration
Risk Coverage: None

Description:
Verify 'import momo' succeeds from project root.

Acceptance Criteria: AC7
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:169
"""

import pytest
import sys
from pathlib import Path

def test_1_1_int_007(project_root):
    """
    1.1-INT-007: Verify 'import momo' succeeds from project root

    Justification: Critical validation of package structure. Tests that src/
    layout allows imports.

    Expected: import momo succeeds without error
    Failure mode: Package not discoverable, breaking all future development
    """
    # Ensure src/ is in sys.path
    src_path = project_root / "src"
    if str(src_path) not in sys.path:
        sys.path.insert(0, str(src_path))

    try:
        import momo

        # Verify momo has __file__ attribute (is a real package)
        assert hasattr(momo, "__file__"), "momo package has no __file__ attribute"

    except ImportError as e:
        pytest.fail(f"Failed to import momo: {e}")
```

**Fixtures Required:** `project_root` (from `tests/conftest.py`)

---

### 1.1-INT-008: Verify Subpackage Imports

**File:** `tests/stories/1.1/integration/1.1-INT-008.py`

```python
"""
Test ID: 1.1-INT-008
Story: 1.1 - Initialize Project Structure and Development Environment
Priority: P1
Test Level: Integration
Risk Coverage: None

Description:
Verify all momo subpackages are importable.

Acceptance Criteria: AC7
Test Design Reference: docs/qa/assessments/1.1-test-design-20251203.md:170
"""

import pytest
import sys
from pathlib import Path

def test_1_1_int_008(project_root):
    """
    1.1-INT-008: Verify subpackages are importable

    Justification: Validates complete package hierarchy with __init__.py files.

    Expected: All subpackages can be imported
    Failure mode: Missing __init__.py prevents layer imports
    """
    # Ensure src/ is in sys.path
    src_path = project_root / "src"
    if str(src_path) not in sys.path:
        sys.path.insert(0, str(src_path))

    subpackages = [
        "momo.data",
        "momo.signals",
        "momo.portfolio",
        "momo.backtest",
        "momo.utils",
    ]

    for subpkg in subpackages:
        try:
            __import__(subpkg)
        except ImportError as e:
            pytest.fail(f"Failed to import {subpkg}: {e}")
```

**Fixtures Required:** `project_root` (from `tests/conftest.py`)

---

## Fixture Requirements

All tests require fixtures defined in `tests/conftest.py`:

```python
"""
Global pytest fixtures for all story tests.
"""

import pytest
from pathlib import Path

@pytest.fixture(scope="session")
def project_root() -> Path:
    """
    Return the absolute path to the project root directory.

    Assumes tests are located in tests/ subdirectory.
    """
    return Path(__file__).parent.parent

@pytest.fixture(scope="session")
def src_dir(project_root: Path) -> Path:
    """
    Return the absolute path to the src/ directory.
    """
    return project_root / "src"

@pytest.fixture(scope="session")
def data_dir(project_root: Path) -> Path:
    """
    Return the absolute path to the data/ directory.
    """
    return project_root / "data"
```

Additional story-specific fixtures in `tests/stories/1.1/conftest.py` (if needed).

---

## Recommended Execution Order

### Phase 1: Critical Infrastructure (P0 Unit)
Run these first for fast feedback on critical issues:

1. 1.1-UNIT-001 - Top-level directories
2. 1.1-UNIT-002 - Data subdirectories
3. 1.1-UNIT-003 - Source package structure
4. 1.1-UNIT-006 - Python version file
5. 1.1-UNIT-007 - .gitignore data/ exclusion ⚠️ **HIGH RISK**
6. 1.1-UNIT-008 - .gitignore Python artifacts
7. 1.1-UNIT-009 - .gitignore .env exclusion

**Estimated Time:** < 1 second (fast file checks)

### Phase 2: Critical Integration (P0 Integration)
Run after Phase 1 passes:

8. 1.1-INT-001 - uv sync ⚠️ **May be slow**
9. 1.1-INT-002 - Python 3.13 availability
10. 1.1-INT-007 - Package import

**Estimated Time:** 10-30 seconds (uv sync may take time)

### Phase 3: High Priority (P1)
Run after critical tests pass:

11. 1.1-UNIT-004 - __init__.py files
12. 1.1-UNIT-005 - py.typed marker
13. 1.1-UNIT-011 - Research log exists
14. 1.1-INT-003 - Git exclusion functional test ⚠️ **HIGH RISK**
15. 1.1-INT-004 - pyproject.toml dependencies
16. 1.1-INT-005 - Core dependencies importable
17. 1.1-INT-008 - Subpackage imports

**Estimated Time:** 5-10 seconds

### Phase 4: Medium Priority (P2)
Run if time permits or in full regression:

18. 1.1-UNIT-010 - README exists
19. 1.1-INT-006 - README content

**Estimated Time:** < 1 second

### Total Estimated Execution Time
**~15-40 seconds** (depending on uv sync performance)

---

## Pytest Execution Commands

### Run All Story 1.1 Tests
```bash
pytest tests/stories/1.1/ -v
```

### Run by Priority
```bash
# P0 tests only (critical)
pytest tests/stories/1.1/ -v -m "p0"

# P0 and P1 tests
pytest tests/stories/1.1/ -v -m "p0 or p1"
```

**Note:** Requires pytest markers configured in `pytest.ini`:

```ini
[pytest]
markers =
    p0: Priority 0 - Critical tests (must pass)
    p1: Priority 1 - High priority tests
    p2: Priority 2 - Medium priority tests
    p3: Priority 3 - Low priority tests
    story_1_1: Tests for Story 1.1
    unit: Unit tests
    integration: Integration tests
    e2e: End-to-end tests
```

### Run by Test Level
```bash
# Unit tests only (fast)
pytest tests/stories/1.1/unit/ -v

# Integration tests only
pytest tests/stories/1.1/integration/ -v
```

### Run with Coverage
```bash
pytest tests/stories/1.1/ --cov=src/momo --cov-report=term-missing --cov-report=html
```

### Parallel Execution
```bash
# Use pytest-xdist for parallel execution
pytest tests/stories/1.1/ -v -n auto
```

---

## Test Pyramid Analysis

**Actual Distribution:**
- Unit tests: 9 (53%)
- Integration tests: 8 (47%)
- E2E tests: 0 (0%)

**Standard Pyramid (70/25/5):**
- Unit: 70%
- Integration: 25%
- E2E: 5%

**Deviation Analysis:**

Story 1.1's distribution deviates from the standard test pyramid due to its nature as an **infrastructure setup story**:

1. **Higher Integration %** - Many tests require file I/O, subprocess execution (uv sync), or Python interpreter (imports). These cannot be pure unit tests.

2. **No E2E Tests** - No user-facing workflows exist yet; only project structure and environment.

3. **Acceptable for Infrastructure** - This distribution is appropriate for infrastructure stories where "integration" means "environment integration" (filesystem, package manager, git).

**Future Stories** should trend toward 70/25/5 as business logic is implemented.

---

## Coverage Gap Analysis

### Acceptance Criteria Coverage
✅ **All ACs covered:**
- AC1: 5 tests (1.1-UNIT-001 through 1.1-UNIT-005)
- AC2: 3 tests (1.1-UNIT-006, 1.1-INT-001, 1.1-INT-002)
- AC3: 4 tests (1.1-UNIT-007, 1.1-UNIT-008, 1.1-UNIT-009, 1.1-INT-003)
- AC4: 2 tests (1.1-INT-004, 1.1-INT-005)
- AC5: 2 tests (1.1-UNIT-010, 1.1-INT-006)
- AC6: 1 test (1.1-UNIT-011)
- AC7: 2 tests (1.1-INT-007, 1.1-INT-008)
- AC8: Meta-requirement satisfied by all tests

### Risk Coverage
✅ **All risks addressed:**
- OPS-001 (High): 2 tests
- TECH-001 (Medium): 5 tests
- TECH-002 (High): Architectural documentation required (not test-based)
- DATA-001 (Medium): 1 test (partial; full validation in later stories)
- OPS-002 (Low): All tests follow structure
- TECH-003 (Low): 1 test
- SEC-001 (Low): 1 test

### Edge Cases
**Considered but not requiring additional tests:**
- Empty directories: Acceptable (tests verify existence, not content)
- Symlinked directories: Out of scope for Story 1.1
- Multiple Python versions: Detected by 1.1-INT-002
- Corrupted uv.lock: Detected by 1.1-INT-001 (uv sync would fail)

**No gaps identified.**

---

## Test Maintenance Considerations

### Low Maintenance Tests (Stable)
- All unit tests (file/directory existence checks)
- 1.1-INT-002 (Python version check)

### Moderate Maintenance Tests
- 1.1-INT-004 (pyproject.toml dependencies) - May need updates as dependencies change
- 1.1-INT-005 (import tests) - May need updates as dependency versions change
- 1.1-INT-006 (README content) - May need updates as documentation evolves

### Higher Maintenance Risk
- 1.1-INT-001 (uv sync) - Dependent on external package manager behavior and network

**Mitigation:**
- Pin uv version in CI
- Use dependency caching in CI
- Document expected failure modes in test docstrings

---

## CI/CD Integration Recommendations

### Pre-commit Checks
Run fast P0 unit tests before allowing commits:
```bash
pytest tests/stories/1.1/unit/ -v -m p0 --tb=short
```

### PR Pipeline
```yaml
test_story_1_1:
  runs-on: ubuntu-latest
  steps:
    - name: Run P0 tests
      run: pytest tests/stories/1.1/ -v -m p0

    - name: Run P1 tests
      run: pytest tests/stories/1.1/ -v -m p1

    - name: Coverage check
      run: pytest tests/stories/1.1/ --cov=src/momo --cov-fail-under=85
```

### Additional CI Checks
```bash
# Verify no data/ files committed (OPS-001 safeguard)
git ls-files | grep '^data/' && exit 1 || exit 0

# Verify uv.lock is committed (reproducible builds)
test -f uv.lock || exit 1
```

---

## Quality Checklist

- [x] Every AC has test coverage
- [x] Test levels are appropriate (not over-testing)
- [x] No duplicate coverage across levels
- [x] Priorities align with business risk
- [x] Test IDs follow naming convention (`1.1-UNIT-001`, etc.)
- [x] Scenarios are atomic and independent
- [x] High-risk items (OPS-001, TECH-001) have comprehensive coverage
- [x] All tests include detailed docstrings with justification
- [x] Fixture requirements documented
- [x] Execution order optimized for fast feedback
- [x] Maintenance considerations documented

---

## Gate YAML Block

For inclusion in quality gate file (`docs/qa/gates/1.1-initialize-project-structure.yml`):

```yaml
test_design:
  scenarios_total: 17
  by_level:
    unit: 9
    integration: 8
    e2e: 0
  by_priority:
    p0: 7
    p1: 8
    p2: 2
    p3: 0
  coverage_gaps: []
  high_risk_coverage:
    - risk: OPS-001
      tests: [1.1-UNIT-007, 1.1-INT-003]
      status: complete
    - risk: TECH-001
      tests: [1.1-UNIT-006, 1.1-INT-001, 1.1-INT-002, 1.1-INT-004, 1.1-INT-005]
      status: complete
  execution_time_estimate: "15-40 seconds"
```

---

## Next Steps

1. **Create Test Files**: Implement all 17 test files as specified in this design
2. **Create Fixtures**: Implement `tests/conftest.py` and `tests/stories/1.1/conftest.py`
3. **Run Tests**: Execute tests in recommended order
4. **Update Gate**: Populate gate file with test results
5. **Trace Requirements**: Execute trace-requirements task to create Given-When-Then traceability

---

## Document Control

- **Created:** 2025-12-03
- **Designer:** Quinn (Test Architect)
- **Version:** 1.0
- **Related Documents:**
  - Story File: `docs/stories/1.1.story.md`
  - Risk Profile: `docs/qa/assessments/1.1-risk-20251203.md`
  - Test Strategy: `docs/architecture/test-strategy-and-standards.md`
  - Gate File: `docs/qa/gates/1.1-initialize-project-structure.yml` (to be created)

---

**Test Design Complete** ✅

This comprehensive test design provides:
- **Complete AC coverage** with 17 targeted test scenarios
- **Risk-based prioritization** focusing on OPS-001 and TECH-001
- **Appropriate test levels** (53% unit, 47% integration, 0% E2E for infrastructure story)
- **Detailed test specifications** with justifications and expected outcomes
- **Clear execution strategy** optimized for fast feedback
- **Maintenance considerations** for long-term sustainability

All tests follow story-based organization and naming conventions per architecture standards.
